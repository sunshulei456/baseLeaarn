# sh 文件

## 脚本内容

```sh
#!/bin/bash

# 定义包含 xxx.sql 文件路径的数组
file_paths=(
"/opt/idc/apps/eos-8.2-app/server/governor/app-db-scripts/group/eos/Mysql/all.sql"
"/opt/idc/apps/eos-8.2-app/server/governor/app-db-scripts/group/all/Mysql/all.sql"
"/opt/idc/apps/eos-8.2-app/server/governor/app-db-scripts/group/bps/mysql/all.sql"
  # 添加更多文件路径...
)

# 登录 MySQL，获取连接会话
mysql -u <用户名> -p<密码> -e "SELECT 1" >/dev/null 2>&1
if [ $? -ne 0 ]; then
  echo "无法登录到 MySQL。请检查用户名和密码。"
  exit 1
fi

# 遍历数组，并导入每个文件到数据库
for file_path in "${file_paths[@]}";
do
  # 提取文件名（不含路径）作为数据库名称
  file_name=$(basename "$file_path" .sql)
  database_name="$file_name"  # 使用文件名作为数据库名称

  echo "导入文件 $file_path 到数据库 $database_name"

  # 使用登录后的 MySQL 连接会话执行导入语句
  mysql -u <用户名> -p<密码> "$database_name" < "$file_path"

  echo "导入完成"
done

```



## 后续改进

* 给出一个文件路径，能找出来所有